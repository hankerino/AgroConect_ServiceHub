(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5285:function(e,t,s){Promise.resolve().then(s.bind(s,3301))},3301:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return S}});var a=s(3761),r=s(557),n=s(8558);function l(){let[e,t]=(0,n.useState)([]),[s,r]=(0,n.useState)(!0),[l,i]=(0,n.useState)(null);return((0,n.useEffect)(()=>{let e=async()=>{try{let e=await fetch("/api/market-prices",{cache:"no-store"});if(!e.ok)throw Error("API responded with status: ".concat(e.status));let s=await e.json();if(s.error)throw Error(s.error);if(s.data&&s.data.length>0){let e=s.data.slice(0,5).map(e=>{let t=e.crop_name||"Produto",s=e.price_per_kg?"R$ ".concat(Number(e.price_per_kg).toFixed(2)):"N/A",a=e.market_location||"Brasil";return{product:t,price:s,location:a}});t(e),i(null)}}catch(e){console.error("[v0] Error fetching market data:",e),i(e instanceof Error?e.message:"Failed to load market data")}finally{r(!1)}};e();let s=setInterval(e,6e4);return()=>clearInterval(s)},[]),l)?(0,a.jsx)("div",{className:"bg-red-50 border-b border-red-200 py-2 px-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-red-600",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full bg-red-500"}),(0,a.jsxs)("span",{children:["Market data unavailable: ",l]})]})}):(0,a.jsx)("div",{className:"bg-white border-b border-gray-200 py-2 px-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(s?"bg-yellow-500":"bg-green-500 animate-pulse")}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:s?"Loading Market":"Live Market"})]}),(0,a.jsx)("div",{className:"flex-1 flex items-center gap-6 overflow-x-auto",children:s?(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Loading prices..."}):0===e.length?(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"No market data available"}):e.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm whitespace-nowrap",children:[(0,a.jsx)("span",{className:"font-medium text-gray-900",children:e.product}),(0,a.jsx)("span",{className:"text-green-600 font-semibold",children:e.price}),(0,a.jsxs)("span",{className:"text-gray-500",children:["\uD83D\uDCCD ",e.location]})]},t))})]})})}var i=s(968),o=s(4665);let c=(0,o.Z)("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),d=(0,o.Z)("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);var x=s(4932);function u(){let[e,t]=(0,n.useState)(!1);return(0,a.jsx)(i.Zb,{className:"bg-green-600 text-white border-none",children:(0,a.jsx)(i.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-semibold mb-1",children:"Voice Assistant"}),(0,a.jsx)("p",{className:"text-green-50",children:"Talk to me for instant help"})]}),(0,a.jsx)(x.z,{variant:"secondary",size:"lg",className:"rounded-full w-14 h-14 ".concat(e?"bg-red-500 hover:bg-red-600":"bg-white hover:bg-gray-50"),onClick:()=>{t(!e)},children:e?(0,a.jsx)(c,{className:"h-6 w-6 text-white",fill:"currentColor"}):(0,a.jsx)(d,{className:"h-6 w-6 ".concat(e?"text-white":"text-green-600")})})]})})})}var m=s(295);function h(e){let{title:t,description:s,icon:r,href:n,iconColor:l="text-blue-600",iconBg:o="bg-blue-100"}=e;return(0,a.jsx)(m.default,{href:n,children:(0,a.jsx)(i.Zb,{className:"hover:shadow-lg transition-all cursor-pointer h-full",children:(0,a.jsxs)(i.aY,{className:"p-6",children:[(0,a.jsx)("div",{className:"w-12 h-12 ".concat(o," rounded-lg flex items-center justify-center mb-4"),children:(0,a.jsx)(r,{className:"h-6 w-6 ".concat(l)})}),(0,a.jsx)("h3",{className:"font-semibold text-lg mb-2",children:t}),s&&(0,a.jsx)("p",{className:"text-sm text-gray-600",children:s})]})})})}var g=s(903),f=s(1042),v=s(4858),p=s(1127);function b(){let[e,t]=(0,n.useState)({users:0,consultations:0,products:0,soilAnalyses:0}),[s,r]=(0,n.useState)(!0),[l,o]=(0,n.useState)(null);(0,n.useEffect)(()=>{let e=async()=>{try{var e,s,a,n,l,i,c,d;console.log("[v0] Fetching dashboard stats from all API endpoints");let[r,x,u,m]=await Promise.all([fetch("/api/users"),fetch("/api/consultations"),fetch("/api/products"),fetch("/api/soil-analyses")]),[h,g,f,v]=await Promise.all([r.json(),x.json(),u.json(),m.json()]);console.log("[v0] Stats fetched:",{users:h.count||(null===(e=h.data)||void 0===e?void 0:e.length)||0,consultations:(null===(s=g.data)||void 0===s?void 0:s.length)||0,products:(null===(a=f.data)||void 0===a?void 0:a.length)||0,soilAnalyses:v.count||(null===(n=v.data)||void 0===n?void 0:n.length)||0}),t({users:h.count||(null===(l=h.data)||void 0===l?void 0:l.length)||0,consultations:(null===(i=g.data)||void 0===i?void 0:i.length)||0,products:(null===(c=f.data)||void 0===c?void 0:c.length)||0,soilAnalyses:v.count||(null===(d=v.data)||void 0===d?void 0:d.length)||0}),o(null)}catch(e){console.error("[v0] Error fetching stats:",e),o(e instanceof Error?e.message:"Failed to load statistics")}finally{r(!1)}};e();let s=setInterval(e,6e4);return()=>clearInterval(s)},[]);let c=[{title:"Total Users",value:e.users,icon:g.Z,color:"text-blue-600",bg:"bg-blue-50"},{title:"Consultations",value:e.consultations,icon:f.Z,color:"text-green-600",bg:"bg-green-50"},{title:"Products",value:e.products,icon:v.Z,color:"text-purple-600",bg:"bg-purple-50"},{title:"Soil Analyses",value:e.soilAnalyses,icon:p.Z,color:"text-orange-600",bg:"bg-orange-50"}];return l?(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsx)(i.Zb,{className:"border-red-200 bg-red-50",children:(0,a.jsx)(i.aY,{className:"p-6",children:(0,a.jsxs)("p",{className:"text-red-600 text-center",children:["Failed to load statistics: ",l]})})})}):s?(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:c.map((e,t)=>(0,a.jsx)(i.Zb,{className:"animate-pulse",children:(0,a.jsx)(i.aY,{className:"p-6",children:(0,a.jsx)("div",{className:"h-20 bg-gray-200 rounded"})})},t))}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:c.map((e,t)=>{let s=e.icon;return(0,a.jsx)(i.Zb,{className:"hover:shadow-md transition-shadow",children:(0,a.jsx)(i.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:e.title}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:e.value})]}),(0,a.jsx)("div",{className:"".concat(e.bg," p-3 rounded-lg"),children:(0,a.jsx)(s,{className:"h-6 w-6 ".concat(e.color)})})]})})},t)})})}var j=s(1751),N=s(9915),y=s(9863),w=s(6063),k=s(2503),C=s(5769),Z=s(1490);function S(){return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(r.h,{}),(0,a.jsx)(l,{}),(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-3",children:"What Can We Do Today?"}),(0,a.jsx)("p",{className:"text-xl text-green-600 font-medium mb-2",children:"Welcome back, Henry Quinones!"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Conectado"})]})]}),(0,a.jsx)(b,{}),(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsx)(u,{})}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Our Services"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsx)(h,{title:"Profile",icon:j.Z,href:"/profile",iconColor:"text-slate-600",iconBg:"bg-slate-100"}),(0,a.jsx)(h,{title:"Data Sources",icon:N.Z,href:"/data-sources",iconColor:"text-gray-600",iconBg:"bg-gray-100"}),(0,a.jsx)(h,{title:"Market Prices",icon:y.Z,href:"/market-prices",iconColor:"text-blue-600",iconBg:"bg-blue-100"}),(0,a.jsx)(h,{title:"Sensor Planner",icon:w.Z,href:"/sensor-planner",iconColor:"text-teal-600",iconBg:"bg-teal-100"}),(0,a.jsx)(h,{title:"Community",icon:g.Z,href:"/community",iconColor:"text-purple-600",iconBg:"bg-purple-100"}),(0,a.jsx)(h,{title:"Learning Center",icon:k.Z,href:"/learning",iconColor:"text-orange-600",iconBg:"bg-orange-100"}),(0,a.jsx)(h,{title:"Products",icon:v.Z,href:"/marketplace",iconColor:"text-green-600",iconBg:"bg-green-100"}),(0,a.jsx)(h,{title:"Consultations",icon:f.Z,href:"/consultations",iconColor:"text-red-600",iconBg:"bg-red-100"}),(0,a.jsx)(h,{title:"Forum",icon:C.Z,href:"/community",iconColor:"text-indigo-600",iconBg:"bg-indigo-100"}),(0,a.jsx)(h,{title:"Weather",icon:Z.Z,href:"/weather",iconColor:"text-cyan-600",iconBg:"bg-cyan-100"}),(0,a.jsx)(h,{title:"Soil Analysis",icon:p.Z,href:"/soil-analysis",iconColor:"text-emerald-600",iconBg:"bg-emerald-100"})]})]})]})]})}},557:function(e,t,s){"use strict";s.d(t,{h:function(){return y}});var a=s(3761),r=s(8558),n=s(2754),l=s(1751),i=s(9915),o=s(9863),c=s(4858),d=s(903),x=s(2503),u=s(1042),m=s(5769),h=s(1490),g=s(6334),f=s(6063),v=s(1127),p=s(3645),b=s(4108),j=s(4932),N=s(295);function y(){let[e,t]=(0,r.useState)(!1),s=[{href:"/",label:"Home",icon:n.Z},{href:"/profile",label:"Profile",icon:l.Z},{href:"/data-sources",label:"Data Sources",icon:i.Z},{href:"/market-prices",label:"Market Prices",icon:o.Z},{href:"/marketplace",label:"Marketplace",icon:c.Z},{href:"/community",label:"Community",icon:d.Z},{href:"/learning",label:"Learning Center",icon:x.Z},{href:"/consultations",label:"Consultations",icon:u.Z},{href:"/community",label:"Forum",icon:m.Z},{href:"/weather",label:"Weather",icon:h.Z},{href:"/soil-analysis",label:"Soil Analysis",icon:g.Z},{href:"/sensor-planner",label:"Sensor Planner",icon:f.Z}];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("header",{className:"bg-green-600 text-white",children:(0,a.jsx)("div",{className:"container mx-auto px-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(v.Z,{className:"h-6 w-6"}),(0,a.jsx)("h1",{className:"text-xl font-semibold",children:"AgroConect"}),(0,a.jsx)("span",{className:"text-sm text-green-100",children:"ServiceHub"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("button",{className:"flex items-center gap-2 px-3 py-1.5 rounded-md hover:bg-green-700 transition-colors",children:(0,a.jsx)("span",{className:"text-sm font-medium",children:"\uD83C\uDF10 PT"})}),(0,a.jsx)(j.z,{variant:"ghost",size:"icon",className:"text-white hover:bg-green-700",onClick:()=>t(!0),children:(0,a.jsx)(p.Z,{className:"h-5 w-5"})})]})]})})}),e&&(0,a.jsxs)("div",{className:"fixed inset-0 z-50",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black/50",onClick:()=>t(!1)}),(0,a.jsx)("div",{className:"absolute right-0 top-0 h-full w-80 bg-white shadow-xl",children:(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b bg-green-600 text-white",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(v.Z,{className:"h-5 w-5"}),(0,a.jsx)("h2",{className:"text-lg font-semibold",children:"Navigation"})]}),(0,a.jsx)(j.z,{variant:"ghost",size:"icon",className:"text-white hover:bg-green-700",onClick:()=>t(!1),children:(0,a.jsx)(b.Z,{className:"h-5 w-5"})})]}),(0,a.jsx)("nav",{className:"flex-1 overflow-y-auto p-4",children:(0,a.jsx)("div",{className:"space-y-1",children:s.map(e=>{let s=e.icon;return(0,a.jsxs)(N.default,{href:e.href,onClick:()=>t(!1),className:"flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-green-50 transition-colors group",children:[(0,a.jsx)(s,{className:"h-5 w-5 text-green-600 group-hover:text-green-700"}),(0,a.jsx)("span",{className:"text-gray-700 group-hover:text-gray-900 font-medium",children:e.label})]},e.href)})})}),(0,a.jsx)("div",{className:"p-4 border-t bg-gray-50",children:(0,a.jsx)("p",{className:"text-xs text-gray-500 text-center",children:"AgroConect ServiceHub \xa9 2025"})})]})})]})]})}},4932:function(e,t,s){"use strict";s.d(t,{z:function(){return c}});var a=s(3761),r=s(8558),n=s(7145),l=s(3989),i=s(6720);let o=(0,l.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,t)=>{let{className:s,variant:r,size:l,asChild:c=!1,...d}=e,x=c?n.g7:"button";return(0,a.jsx)(x,{ref:t,"data-slot":"button",className:(0,i.cn)(o({variant:r,size:l,className:s})),...d})});c.displayName="Button"},968:function(e,t,s){"use strict";s.d(t,{Ol:function(){return i},SZ:function(){return c},Zb:function(){return l},aY:function(){return d},ll:function(){return o}});var a=s(3761),r=s(8558),n=s(6720);let l=r.forwardRef((e,t)=>{let{className:s="",...r}=e;return(0,a.jsx)("div",{ref:t,"data-slot":"card",className:(0,n.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),...r})});l.displayName="Card";let i=r.forwardRef((e,t)=>{let{className:s="",...r}=e;return(0,a.jsx)("div",{ref:t,"data-slot":"card-header",className:(0,n.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...r})});i.displayName="CardHeader";let o=r.forwardRef((e,t)=>{let{className:s="",...r}=e;return(0,a.jsx)("h3",{ref:t,"data-slot":"card-title",className:(0,n.cn)("leading-none font-semibold",s),...r})});o.displayName="CardTitle";let c=r.forwardRef((e,t)=>{let{className:s="",...r}=e;return(0,a.jsx)("div",{ref:t,"data-slot":"card-description",className:(0,n.cn)("text-muted-foreground text-sm",s),...r})});c.displayName="CardDescription",r.forwardRef((e,t)=>{let{className:s="",...r}=e;return(0,a.jsx)("div",{ref:t,"data-slot":"card-action",className:(0,n.cn)("col-start-2 row-span-2 row-start-1 self-start justify-self-end",s),...r})}).displayName="CardAction";let d=r.forwardRef((e,t)=>{let{className:s="",...r}=e;return(0,a.jsx)("div",{ref:t,"data-slot":"card-content",className:(0,n.cn)("px-6",s),...r})});d.displayName="CardContent",r.forwardRef((e,t)=>{let{className:s="",...r}=e;return(0,a.jsx)("div",{ref:t,"data-slot":"card-footer",className:(0,n.cn)("flex items-center px-6 [.border-t]:pt-6",s),...r})}).displayName="CardFooter"},6720:function(e,t,s){"use strict";s.d(t,{cn:function(){return n}});var a=s(6402),r=s(2310);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.m6)((0,a.W)(t))}}},function(e){e.O(0,[983,779,744,588,560],function(){return e(e.s=5285)}),_N_E=e.O()}]);