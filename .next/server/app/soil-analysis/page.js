(()=>{var e={};e.id=732,e.ids=[732],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9805:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>h,tree:()=>d}),a(3731),a(2550),a(6202);var r=a(8783),t=a(4478),l=a(1645),i=a.n(l),n=a(2086),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);a.d(s,o);let d=["",{children:["soil-analysis",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,3731)),"/Users/hankerino/AgroConect_ServiceHub/app/soil-analysis/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,2550)),"/Users/hankerino/AgroConect_ServiceHub/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,6202,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/hankerino/AgroConect_ServiceHub/app/soil-analysis/page.tsx"],x="/soil-analysis/page",m={require:a,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/soil-analysis/page",pathname:"/soil-analysis",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3053:(e,s,a)=>{Promise.resolve().then(a.bind(a,1588))},1588:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>p});var r=a(8470),t=a(3225),l=a(7511),i=a(1621),n=a(6210),o=a(1509);let d=(0,o.Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);var c=a(6164),x=a(6555);let m=(0,o.Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var h=a(9315);function u(){let[e,s]=(0,t.useState)(null),[a,n]=(0,t.useState)(null),[o,c]=(0,t.useState)(!1),[u,p]=(0,t.useState)(""),[g,f]=(0,t.useState)(""),b=(0,t.useRef)(null),v=async()=>{if(e){c(!0),f("");try{let s=new FormData;s.append("image",e),s.append("userId","current-user"),s.append("analysisType","document-scan"),console.log("[v0] Uploading image for OCR...");let a=await fetch("/api/ocr/upload",{method:"POST",body:s}),r=await a.json();if(!a.ok)throw Error(r.error||"Failed to process image");console.log("[v0] OCR successful:",r),p(r.data.extractedText)}catch(e){console.error("[v0] Upload error:",e),f(e instanceof Error?e.message:"Failed to process image")}finally{c(!1)}}},j=()=>{s(null),n(null),p(""),f(""),b.current&&(b.current.value="")};return(0,r.jsxs)(l.Zb,{children:[r.jsx(l.Ol,{children:(0,r.jsxs)(l.ll,{className:"flex items-center gap-2",children:[r.jsx(d,{className:"h-5 w-5 text-emerald-600"}),"Document Scanner (NVIDIA OCR)"]})}),(0,r.jsxs)(l.aY,{className:"space-y-4",children:[r.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:a?(0,r.jsxs)("div",{className:"relative",children:[r.jsx("img",{src:a||"/placeholder.svg",alt:"Preview",className:"max-h-64 mx-auto rounded"}),r.jsx(i.z,{variant:"outline",size:"sm",className:"absolute top-2 right-2",onClick:j,children:r.jsx(x.Z,{className:"h-4 w-4"})})]}):(0,r.jsxs)("div",{children:[r.jsx(m,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Upload an image to extract text (fertilizer labels, soil reports, etc.)"}),r.jsx("input",{ref:b,type:"file",accept:"image/*",onChange:e=>{let a=e.target.files?.[0];if(!a)return;s(a),p(""),f("");let r=new FileReader;r.onloadend=()=>{n(r.result)},r.readAsDataURL(a)},className:"hidden",id:"ocr-file-upload"}),r.jsx("label",{htmlFor:"ocr-file-upload",children:r.jsx(i.z,{asChild:!0,children:r.jsx("span",{children:"Choose Image"})})})]})}),e&&!u&&r.jsx(i.z,{onClick:v,disabled:o,className:"w-full",children:o?(0,r.jsxs)(r.Fragment,{children:[r.jsx(h.Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing with NVIDIA OCR..."]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(d,{className:"h-4 w-4 mr-2"}),"Extract Text"]})}),g&&r.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:r.jsx("p",{className:"text-sm text-red-600",children:g})}),u&&(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Extracted Text:"}),r.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:r.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:u})}),r.jsx(i.z,{variant:"outline",onClick:j,className:"w-full",children:"Upload Another"})]})]})]})}function p(){let[e,s]=(0,t.useState)([]),[a,o]=(0,t.useState)(!0);return(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-emerald-50 to-white",children:[r.jsx(c.h,{}),(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Soil Analysis"}),r.jsx("p",{className:"text-gray-600",children:"AI-powered soil health assessments with document scanning"})]}),r.jsx("div",{className:"mb-8",children:r.jsx(u,{})}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Previous Analyses"}),a?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[1,2,3].map(e=>r.jsx(l.Zb,{className:"animate-pulse",children:r.jsx(l.aY,{className:"p-6",children:r.jsx("div",{className:"h-32 bg-gray-200 rounded"})})},e))}):e.length>0?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map(e=>(0,r.jsxs)(l.Zb,{className:"hover:shadow-lg transition-shadow",children:[r.jsx(l.Ol,{children:(0,r.jsxs)(l.ll,{className:"flex items-center gap-2",children:[r.jsx(n.Z,{className:"h-5 w-5 text-emerald-600"}),"Analysis #",e.id]})}),(0,r.jsxs)(l.aY,{children:[(0,r.jsxs)("div",{className:"space-y-2 mb-4",children:[e.location&&(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["Location: ",e.location]}),e.created_at&&(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["Date: ",new Date(e.created_at).toLocaleDateString()]}),e.status&&(0,r.jsxs)("p",{className:"text-sm",children:["Status: ",r.jsx("span",{className:"font-semibold text-emerald-600",children:e.status})]})]}),(0,r.jsxs)(i.z,{className:"w-full",children:[r.jsx(d,{className:"h-4 w-4 mr-2"}),"View Report"]})]})]},e.id))}):r.jsx(l.Zb,{children:(0,r.jsxs)(l.aY,{className:"p-12 text-center",children:[r.jsx(n.Z,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Analyses Yet"}),r.jsx("p",{className:"text-gray-500 mb-4",children:"Start your first soil analysis to get detailed insights."}),(0,r.jsxs)(i.z,{children:[r.jsx(n.Z,{className:"h-4 w-4 mr-2"}),"New Analysis"]})]})})]})]})}},6164:(e,s,a)=>{"use strict";a.d(s,{h:()=>y});var r=a(8470),t=a(3225),l=a(1306),i=a(1231),n=a(6913),o=a(4943),d=a(4878),c=a(3604),x=a(47),m=a(3146),h=a(8022),u=a(2562),p=a(6884),g=a(2827),f=a(6210),b=a(8837),v=a(6555),j=a(1621),N=a(9874);function y(){let[e,s]=(0,t.useState)(!1),a=[{href:"/",label:"Home",icon:l.Z},{href:"/profile",label:"Profile",icon:i.Z},{href:"/data-sources",label:"Data Sources",icon:n.Z},{href:"/market-prices",label:"Market Prices",icon:o.Z},{href:"/marketplace",label:"Marketplace",icon:d.Z},{href:"/community",label:"Community",icon:c.Z},{href:"/learning",label:"Learning Center",icon:x.Z},{href:"/consultations",label:"Consultations",icon:m.Z},{href:"/community",label:"Forum",icon:h.Z},{href:"/weather",label:"Weather",icon:u.Z},{href:"/soil-analysis",label:"Soil Analysis",icon:p.Z},{href:"/sensor-planner",label:"Sensor Planner",icon:g.Z}];return(0,r.jsxs)(r.Fragment,{children:[r.jsx("header",{className:"bg-green-600 text-white",children:r.jsx("div",{className:"container mx-auto px-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx(f.Z,{className:"h-6 w-6"}),r.jsx("h1",{className:"text-xl font-semibold",children:"AgroConect"}),r.jsx("span",{className:"text-sm text-green-100",children:"ServiceHub"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx("button",{className:"flex items-center gap-2 px-3 py-1.5 rounded-md hover:bg-green-700 transition-colors",children:r.jsx("span",{className:"text-sm font-medium",children:"\uD83C\uDF10 PT"})}),r.jsx(j.z,{variant:"ghost",size:"icon",className:"text-white hover:bg-green-700",onClick:()=>s(!0),children:r.jsx(b.Z,{className:"h-5 w-5"})})]})]})})}),e&&(0,r.jsxs)("div",{className:"fixed inset-0 z-50",children:[r.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>s(!1)}),r.jsx("div",{className:"absolute right-0 top-0 h-full w-80 bg-white shadow-xl",children:(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border-b bg-green-600 text-white",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx(f.Z,{className:"h-5 w-5"}),r.jsx("h2",{className:"text-lg font-semibold",children:"Navigation"})]}),r.jsx(j.z,{variant:"ghost",size:"icon",className:"text-white hover:bg-green-700",onClick:()=>s(!1),children:r.jsx(v.Z,{className:"h-5 w-5"})})]}),r.jsx("nav",{className:"flex-1 overflow-y-auto p-4",children:r.jsx("div",{className:"space-y-1",children:a.map(e=>{let a=e.icon;return(0,r.jsxs)(N.default,{href:e.href,onClick:()=>s(!1),className:"flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-green-50 transition-colors group",children:[r.jsx(a,{className:"h-5 w-5 text-green-600 group-hover:text-green-700"}),r.jsx("span",{className:"text-gray-700 group-hover:text-gray-900 font-medium",children:e.label})]},e.href)})})}),r.jsx("div",{className:"p-4 border-t bg-gray-50",children:r.jsx("p",{className:"text-xs text-gray-500 text-center",children:"AgroConect ServiceHub \xa9 2025"})})]})})]})]})}},1621:(e,s,a)=>{"use strict";a.d(s,{z:()=>d});var r=a(8470),t=a(3225),l=a(522),i=a(9643),n=a(5252);let o=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}}),d=t.forwardRef(({className:e,variant:s,size:a,asChild:t=!1,...i},d)=>{let c=t?l.g7:"button";return r.jsx(c,{ref:d,"data-slot":"button",className:(0,n.cn)(o({variant:s,size:a,className:e})),...i})});d.displayName="Button"},7511:(e,s,a)=>{"use strict";a.d(s,{Ol:()=>n,SZ:()=>d,Zb:()=>i,aY:()=>c,ll:()=>o});var r=a(8470),t=a(3225),l=a(5252);let i=t.forwardRef(({className:e="",...s},a)=>r.jsx("div",{ref:a,"data-slot":"card",className:(0,l.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...s}));i.displayName="Card";let n=t.forwardRef(({className:e="",...s},a)=>r.jsx("div",{ref:a,"data-slot":"card-header",className:(0,l.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...s}));n.displayName="CardHeader";let o=t.forwardRef(({className:e="",...s},a)=>r.jsx("h3",{ref:a,"data-slot":"card-title",className:(0,l.cn)("leading-none font-semibold",e),...s}));o.displayName="CardTitle";let d=t.forwardRef(({className:e="",...s},a)=>r.jsx("div",{ref:a,"data-slot":"card-description",className:(0,l.cn)("text-muted-foreground text-sm",e),...s}));d.displayName="CardDescription",t.forwardRef(({className:e="",...s},a)=>r.jsx("div",{ref:a,"data-slot":"card-action",className:(0,l.cn)("col-start-2 row-span-2 row-start-1 self-start justify-self-end",e),...s})).displayName="CardAction";let c=t.forwardRef(({className:e="",...s},a)=>r.jsx("div",{ref:a,"data-slot":"card-content",className:(0,l.cn)("px-6",e),...s}));c.displayName="CardContent",t.forwardRef(({className:e="",...s},a)=>r.jsx("div",{ref:a,"data-slot":"card-footer",className:(0,l.cn)("flex items-center px-6 [.border-t]:pt-6",e),...s})).displayName="CardFooter"},9315:(e,s,a)=>{"use strict";a.d(s,{Z:()=>r});let r=(0,a(1509).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},3731:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>r});let r=(0,a(1848).createProxy)(String.raw`/Users/hankerino/AgroConect_ServiceHub/app/soil-analysis/page.tsx#default`)}};var s=require("../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),r=s.X(0,[553,983,125,528],()=>a(9805));module.exports=r})();